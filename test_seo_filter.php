<?php
/**
 * –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è SEO —Ñ–∏–ª—å—Ç—Ä–∞
 * –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
 */

require($_SERVER["DOCUMENT_ROOT"] . "/bitrix/header.php");

$APPLICATION->SetTitle("–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SEO —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞");

?>
<style>
    .test-container {
        max-width: 1200px;
        margin: 40px auto;
        padding: 20px;
    }

    .test-section {
        background: #f8f9fa;
        border-left: 4px solid #007bff;
        padding: 20px;
        margin: 20px 0;
    }

    .success {
        color: #28a745;
        font-weight: bold;
    }

    .error {
        color: #dc3545;
        font-weight: bold;
    }

    .info {
        color: #17a2b8;
    }

    .test-url {
        background: #fff;
        padding: 15px;
        border: 1px solid #dee2e6;
        margin: 10px 0;
    }

    .test-url a {
        color: #007bff;
        text-decoration: none;
        font-size: 16px;
    }

    .test-url a:hover {
        text-decoration: underline;
    }
</style>

<div class="test-container">
    <h1>‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è SEO —Ñ–∏–ª—å—Ç—Ä–∞</h1>
    <p class="info">–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞: bitrix:catalog.smart.filter —Ç–µ–ø–µ—Ä—å –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ section.php</p>

    <div class="test-section">
        <h2>üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</h2>
        <ul>
            <li>‚úÖ <strong>/bitrix/php_interface/init.php</strong> - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è</li>
            <li>‚úÖ <strong>custom:catalog.sidebar</strong> - —É–±—Ä–∞–Ω –≤—ã–∑–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞, –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞–≤–∏–≥–∞—Ü–∏—è</li>
            <li>‚úÖ <strong>section.php</strong> - –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ bitrix:catalog.smart.filter</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>üß™ –¢–µ—Å—Ç–æ–≤—ã–µ URL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</h2>

        <div class="test-url">
            <h3>1. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π URL —Ñ–∏–ª—å—Ç—Ä–∞ (–¥–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å)</h3>
            <a href="/catalog/asics/filter/crypto-is-zec/apply/" target="_blank">
                /catalog/asics/filter/crypto-is-zec/apply/
            </a>
            <p><strong>–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:</strong> –†–µ–¥–∏—Ä–µ–∫—Ç 301 –Ω–∞ /catalog/asics/filter-zec-crypto/</p>
        </div>

        <div class="test-url">
            <h3>2. –ö—Ä–∞—Å–∏–≤—ã–π URL —Å SEO-—Ç–µ–≥–∞–º–∏</h3>
            <a href="/catalog/asics/filter-zec-crypto/" target="_blank">
                /catalog/asics/filter-zec-crypto/
            </a>
            <p><strong>–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:</strong></p>
            <ul>
                <li>H1 –∏–∑–º–µ–Ω–µ–Ω –∏–∑ –∏–Ω—Ñ–æ–±–ª–æ–∫–∞</li>
                <li>Title –∏ Description —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏–∑ –∏–Ω—Ñ–æ–±–ª–æ–∫–∞</li>
                <li>–ü—Ä–∏–º–µ–Ω–µ–Ω —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ ZEC</li>
                <li>–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –º–∞–π–Ω–µ—Ä—ã –¥–ª—è ZEC</li>
            </ul>
        </div>

        <div class="test-url">
            <h3>3. –û–±—ã—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ (–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞)</h3>
            <a href="/catalog/asics/" target="_blank">
                /catalog/asics/
            </a>
            <p><strong>–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:</strong> –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –≤—Å–µ —Ç–æ–≤–∞—Ä—ã, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ SEO-—Ç–µ–≥–∏</p>
        </div>
    </div>

    <div class="test-section">
        <h2>üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ–∏–ª—å—Ç—Ä–∞</h2>
        <ol>
            <li><strong>H1 –∑–∞–≥–æ–ª–æ–≤–æ–∫:</strong> –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑ –∏–Ω—Ñ–æ–±–ª–æ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "ASIC-–º–∞–π–Ω–µ—Ä—ã –¥–ª—è –¥–æ–±—ã—á–∏ Zcash
                (ZEC)")</li>
            <li><strong>Title —Å—Ç—Ä–∞–Ω–∏—Ü—ã:</strong> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –≤–∫–ª–∞–¥–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞</li>
            <li><strong>–§–∏–ª—å—Ç—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω:</strong> –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ ZEC –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω–∞ –≤ —Ñ–∏–ª—å—Ç—Ä–µ</li>
            <li><strong>–¢–æ–≤–∞—Ä—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã:</strong> –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –º–∞–π–Ω–µ—Ä—ã –¥–ª—è ZEC</li>
            <li><strong>URL –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:</strong> –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫—Ä–∞—Å–∏–≤—ã–π (/filter-zec-crypto/)</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–¥—É–ª—è</h2>
        <?php
        use Bitrix\Main\Loader;

        if (Loader::includeModule('dwstroy.seochpulite')) {
            echo '<p class="success">‚úì –ú–æ–¥—É–ª—å dwstroy.seochpulite –∑–∞–≥—Ä—É–∂–µ–Ω</p>';
        } else {
            echo '<p class="error">‚úó –ú–æ–¥—É–ª—å dwstroy.seochpulite –ù–ï –∑–∞–≥—Ä—É–∂–µ–Ω</p>';
        }

        if (Loader::includeModule('iblock')) {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–ø–∏—Å—å –≤ –∏–Ω—Ñ–æ–±–ª–æ–∫–µ
            $rsElement = CIBlockElement::GetList(
                [],
                ['IBLOCK_ID' => 13, 'ID' => 99677],
                false,
                false,
                ['ID', 'NAME', 'ACTIVE']
            );

            if ($element = $rsElement->Fetch()) {
                echo '<p class="success">‚úì –ó–∞–ø–∏—Å—å –≤ –∏–Ω—Ñ–æ–±–ª–æ–∫–µ –Ω–∞–π–¥–µ–Ω–∞: ' . htmlspecialchars($element['NAME']) . '</p>';

                // –ü–æ–ª—É—á–∞–µ–º —Å–≤–æ–π—Å—Ç–≤–∞
                $rsProps = CIBlockElement::GetProperty(13, 99677, ['SORT' => 'ASC'], ['CODE' => 'OLD_URL']);
                if ($prop = $rsProps->Fetch()) {
                    echo '<p class="info">OLD_URL: <code>' . htmlspecialchars($prop['VALUE']) . '</code></p>';
                }

                $rsProps = CIBlockElement::GetProperty(13, 99677, ['SORT' => 'ASC'], ['CODE' => 'NEW_URL']);
                if ($prop = $rsProps->Fetch()) {
                    echo '<p class="info">NEW_URL: <code>' . htmlspecialchars($prop['VALUE']) . '</code></p>';
                }
            } else {
                echo '<p class="error">‚úó –ó–∞–ø–∏—Å—å —Å ID 99677 –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –∏–Ω—Ñ–æ–±–ª–æ–∫–µ 13</p>';
            }
        }
        ?>
    </div>

    <div class="test-section">
        <h2>‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è</h2>
        <table border="1" cellpadding="10" style="width: 100%; border-collapse: collapse;">
            <tr>
                <th>–ü—Ä–æ–±–ª–µ–º–∞</th>
                <th>–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞</th>
                <th>–†–µ—à–µ–Ω–∏–µ</th>
            </tr>
            <tr>
                <td>–†–µ–¥–∏—Ä–µ–∫—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</td>
                <td>–ú–æ–¥—É–ª—å –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç URL</td>
                <td>–û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –ë–∏—Ç—Ä–∏–∫—Å, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–±—ã—Ç–∏—è –≤ /bitrix/admin/event_type_list.php</td>
            </tr>
            <tr>
                <td>SEO-—Ç–µ–≥–∏ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è</td>
                <td>–°–æ–±—ã—Ç–∏–µ OnEpilog –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç</td>
                <td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ init.php –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è (–¥–æ–±–∞–≤–∏—Ç—å var_dump –≤ –Ω–∞—á–∞–ª–æ)</td>
            </tr>
            <tr>
                <td>–§–∏–ª—å—Ç—Ä –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è</td>
                <td>SMART_FILTER_PATH –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è</td>
                <td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å $_REQUEST['SMART_FILTER_PATH'] –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ–∏–ª—å—Ç—Ä–∞</td>
            </tr>
            <tr>
                <td>404 –æ—à–∏–±–∫–∞ –Ω–∞ –∫—Ä–∞—Å–∏–≤–æ–º URL</td>
                <td>URL –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º</td>
                <td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å SEF_URL_TEMPLATES –≤ index.php –∫–∞—Ç–∞–ª–æ–≥–∞</td>
            </tr>
        </table>
    </div>

    <div class="test-section">
        <h2>üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏</h2>
        <ol>
            <li>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ 3 URL –≤—ã—à–µ</li>
            <li>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Ñ–∏–ª—å—Ç—Ä–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (Network tab)</li>
            <li>–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç</li>
            <li>–ù–∞—Å—Ç—Ä–æ–∏—Ç—å SEO-—Ç–µ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤</li>
            <li>–î–æ–±–∞–≤–∏—Ç—å –≤ sitemap.xml</li>
        </ol>
    </div>
</div>

<?php
require($_SERVER["DOCUMENT_ROOT"] . "/bitrix/footer.php");
