<? namespace Bitrix\Main\UpdateSystem;$GLOBALS['____1539858585']= array(base64_decode('aXN'.'f'.'d'.'3J'.'pd'.'GFibGU='),base64_decode('Zm9wZW'.'4='),base64_decode('Znd'.'y'.'aXRl'),base64_decode(''.'ZmNsb3'.'N'.'l'),base64_decode('aW50dmF'.'s'),base64_decode('aW'.'5'.'0d'.'m'.'Fs'),base64_decode('aXNfd3Jpd'.'GFibGU='),base64_decode('Zm9wZ'.'W4='),base64_decode('Z'.'nB1dHM='),base64_decode('ZmNsb3Nl'));if(!function_exists(__NAMESPACE__.'\\___179939311')){function ___179939311($_1665191165){static $_72272386= false; if($_72272386 == false) $_72272386=array('RV'.'JST1'.'I'.'=',''.'RVJST1I=','X1ZBTFVF','VW5rbm93biBlcn'.'Jv'.'cg==','IFtBU1IwMV'.'0=','UkVOV'.'A==','Tm90I'.'GZv'.'dW5'.'kIGxpY2'.'Vu'.'c2UgaW'.'5'.'mb'.'yBb'.'Q'.'VN'.'SMDJ'.'d','VjE=','VjI=','VjE=','VjI'.'=','U2VydmVyIHJlc3Bvbn'.'N'.'lIGlzIG5v'.'dCByZ'.'WNvZ25pemVkIFtBU'.'0'.'FM'.'S'.'TAxXQ==','bWFpbg==','Y'.'W'.'RtaW5fcGFzc3dvcm'.'Ro',''.'RE9DVU'.'1FT'.'lRfUk9PVA='.'=','L2JpdHJp'.'eC'.'9tb2'.'R1bG'.'VzL'.'2'.'1h'.'aW4v'.'YWRtaW4'.'=','R'.'E9DVU1FTlRfUk9PVA==','L2JpdHJ'.'peC9tb2R1bGVzL21haW4vY'.'WRtaW4vZGV'.'ma'.'W5lL'.'nBoc'.'A==','dw==','PA==',''.'P0RlZmluZSgiVEVN'.'U'.'E9SQVJZX0NBQ0'.'hF'.'I'.'i'.'wgIg==','Iik7P'.'w==','Pg'.'='.'=','Rmls'.'ZS'.'BvcGVu'.'IGZhaWx'.'zI'.'FtBU0FMSTAyX'.'Q==','Rm9'.'sZ'.'GVyIGlzI'.'G5'.'vdCB3c'.'ml0YWJs'.'ZSBb'.'QVNBTE'.'k'.'wM1'.'0'.'=','R'.'EFUR'.'V9UT'.'19TT1VSQ'.'0U=','bWFpb'.'g==','fnN1cHBv'.'cnRfZm'.'luaXNoX2RhdGU=','REF'.'URV9UT19T'.'T1V'.'S'.'Q0U'.'=','T'.'UFYX1'.'NJV'.'EVT','bWFpb'.'g==','U'.'EFSQU1fTUFYX1NJVE'.'VT','TU'.'FYX1NJ'.'VEVT',''.'TUFYX1'.'VTRVJT','bWFp'.'bg'.'==','U'.'EFSQU1fTUF'.'YX1'.'VTRVJT','T'.'UFYX1VTRVJT',''.'TUFYX1'.'VTRVJ'.'TX1NUUklORw'.'==','bWFpbg==','fl'.'BBU'.'k'.'FNX01BWF'.'9VU0VSU'.'w==','TU'.'FYX'.'1VTRVJTX1NUUk'.'lORw'.'='.'=','REF'.'URV9U'.'T19TT1V'.'SQ0VfU1'.'RSSU5H','bWFpbg==','fl'.'BBUkFNX0ZJT'.'kl'.'TSF9EQVRF',''.'REFURV9UT'.'19TT1VSQ'.'0V'.'fU1'.'RSSU5H','S'.'VNMQ'.'w==','RE'.'9D'.'VU1FT'.'lR'.'fUk9PV'.'A='.'=','L2JpdHJp'.'eA'.'==','RE'.'9DVU'.'1FTl'.'R'.'fUk9PVA==','L2JpdH'.'JpeC9s'.'a'.'WN'.'lb'.'nNlX2t'.'leS5waHA'.'=','d'.'2I'.'=','PA==','PyRMS'.'UNF'.'TlNFX0tF'.'WSA9'.'I'.'CI'.'=','Ijs/',''.'Pg'.'==','Rm'.'lsZSBvcGV'.'uIGZha'.'W'.'xzIFtB'.'U0FMSTA0XQ==','Rm'.'9sZGVyIGl'.'z'.'I'.'G'.'5v'.'dCB3cml0YWJsZSBb'.'Q'.'VNBTEkwNV0=',''.'Tm90I'.'GZvd'.'W'.'5kIGxpY2'.'Vuc2UgaW'.'5mbyBbQVNBSDAx'.'X'.'Q==','cm'.'VzdWx0','cmV'.'zdWx'.'0','ZXJ'.'y'.'b3I=',''.'bWVzc2FnZQ==','RXJyb'.'3Igc2VuZCBwYXJ'.'0bmVyIGluZm8gW0FTU0'.'lU'.'U'.'DAxXQ==','cm'.'V'.'zc'.'G9'.'uc2'.'U'.'=','cmVxdWVzd'.'A==','ZX'.'J'.'yb'.'3'.'I=','V'.'W5rbm93'.'bi'.'BlcnJvcg==','IF'.'tB'.'U1NJVFA'.'wM'.'V0=');return base64_decode($_72272386[$_1665191165]);}}; use Bitrix\Main\Application; use Bitrix\Main\Result; use Bitrix\Main\Security\SecurityException; use Bitrix\Main\SystemException; use Bitrix\Main\Web\Json; class ActivationSystem{  public function reincarnate(Coupon $_1400638012): Result{  $_1395521900= new ReincarnationRequestBuilder($_1400638012); $_901020685=(new RequestFactory($_1395521900))->build();  $_469392550= $_901020685->send();  $_1385349453= new UpdateServerDataParser($_469392550); $_666895198= $_1385349453->parse(); if(isset($_666895198[___179939311(0)])){ throw new SystemException(($_666895198[___179939311(1)][___179939311(2)] ?? ___179939311(3)).___179939311(4));} $_666895198= $_666895198[___179939311(5)] ??[]; if(empty($_666895198)){ throw new SystemException(___179939311(6));} $this->applyLicenseInfo($_666895198, $_1400638012->getKey()); $_261963611= new Result(); return $_261963611->setData($_666895198);}  protected function applyLicenseInfo(array $_666895198, string $_1036612002): void{ if(isset($_666895198[___179939311(7)], $_666895198[___179939311(8)])){ $_337643604= $_666895198[___179939311(9)]; $_992300485= $_666895198[___179939311(10)]; if(empty($_337643604) || empty($_992300485)){ throw new SystemException(___179939311(11));} \COption::SetOptionString(___179939311(12), ___179939311(13), $_337643604); if($GLOBALS['____1539858585'][0]($_SERVER[___179939311(14)].___179939311(15))){ if($_1651568100= $GLOBALS['____1539858585'][1]($_SERVER[___179939311(16)].___179939311(17), ___179939311(18))){ $GLOBALS['____1539858585'][2]($_1651568100, ___179939311(19).___179939311(20).$_992300485.___179939311(21).___179939311(22)); $GLOBALS['____1539858585'][3]($_1651568100);} else{ throw new SystemException(___179939311(23));}} else{ throw new SystemException(___179939311(24));}} if(isset($_666895198[___179939311(25)])){ \COption::SetOptionString(___179939311(26), ___179939311(27), $_666895198[___179939311(28)]);} if(isset($_666895198[___179939311(29)])){ \COption::SetOptionString(___179939311(30), ___179939311(31), $GLOBALS['____1539858585'][4]($_666895198[___179939311(32)]));} if(isset($_666895198[___179939311(33)])){ \COption::SetOptionString(___179939311(34), ___179939311(35), $GLOBALS['____1539858585'][5]($_666895198[___179939311(36)]));} if(isset($_666895198[___179939311(37)])){ \COption::SetOptionString(___179939311(38), ___179939311(39), $_666895198[___179939311(40)]);} if(isset($_666895198[___179939311(41)])){ \COption::SetOptionString(___179939311(42), ___179939311(43), $_666895198[___179939311(44)]);} if(isset($_666895198[___179939311(45)])){ if($GLOBALS['____1539858585'][6]($_SERVER[___179939311(46)].___179939311(47))){ if($_1651568100= $GLOBALS['____1539858585'][7]($_SERVER[___179939311(48)].___179939311(49), ___179939311(50))){ $GLOBALS['____1539858585'][8]($_1651568100, ___179939311(51).___179939311(52).EscapePHPString($_1036612002).___179939311(53).___179939311(54)); $GLOBALS['____1539858585'][9]($_1651568100);} else{ throw new SystemException(___179939311(55));}} else{ throw new SystemException(___179939311(56));}}}  public function activateByHash(string $_1458085834): Result{ $_1385349453= new HashCodeParser($_1458085834); $_666895198= $_1385349453->parse(); if(empty($_666895198)){ throw new SystemException(___179939311(57));} $_1036612002= Application::getInstance()->getLicense()->getKey(); $this->applyLicenseInfo($_666895198, $_1036612002); $_261963611= new Result(); return $_261963611->setData($_666895198);}  public function sendInfoToPartner(string $_1518634013, string $_240650245, string $_1839959617): Result{ $_1395521900= new PartnerInfoRequestBuilder($_1518634013, $_240650245, $_1839959617); $_901020685=(new RequestFactory($_1395521900))->build();  $_469392550= $_901020685->send(); $_469392550= Json::decode($_469392550); if(!isset($_469392550[___179939311(58)]) || $_469392550[___179939311(59)] === ___179939311(60)){ $_895146644=[ ___179939311(61) => ___179939311(62), ___179939311(63) => $_469392550, ___179939311(64) => $_901020685]; throw new SystemException(($_469392550[___179939311(65)] ?? ___179939311(66)).___179939311(67));} return(new Result())->setData($_469392550);}}?>